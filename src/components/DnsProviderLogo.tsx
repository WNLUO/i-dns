import React from 'react';
import { View, StyleSheet, Image } from 'react-native';
import { SvgXml } from 'react-native-svg';
import { scaleWidth } from '../utils/responsive';
import { useThemeColors } from '../styles/theme';

interface DnsProviderLogoProps {
  providerId: string;
  size?: number;
}

// PNG Logo映射 (用于位图图片)
const PNG_LOGOS: Record<string, any> = {
  idns: require('../assets/logos/idns.png'),
};

// SVG Logo XML字符串映射
const SVG_LOGOS: Record<string, string> = {
  idns: `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <circle cx="50" cy="50" r="48" fill="#06b6d4" opacity="0.1"/>
  <path d="M50 10 L75 25 L75 50 Q75 75 50 85 Q25 75 25 50 L25 25 Z"
        fill="#06b6d4"
        stroke="#0891b2"
        stroke-width="2"/>
  <rect x="45" y="35" width="10" height="35" fill="white" rx="2"/>
  <circle cx="50" cy="28" r="4" fill="white"/>
</svg>`,

  dnspod: `<svg t="1764942559660" class="icon" viewBox="0 0 1402 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5529">
  <path d="M1215.521013 836.730667c-22.304 22.698667-66.906667 56.746667-144.96 56.746666h-479.493333c144.96-141.872 267.621333-261.045333 278.773333-272.394666 11.146667-11.349333 39.024-39.722667 66.901334-62.421334 55.754667-51.077333 100.362667-56.746667 139.386666-56.746666 55.76 0 100.362667 22.693333 139.392 56.746666 78.053333 73.770667 78.053333 204.293333 0 278.069334z m94.778667-368.869334c-55.754667-62.421333-139.386667-102.149333-228.592-102.149333-78.058667 0-144.96 28.373333-206.293333 73.776-22.304 22.698667-55.754667 45.397333-83.626667 79.445333-22.309333 22.698667-501.797333 499.392-501.797333 499.392C317.86768 1024 351.32368 1024 379.19568 1024h607.728c44.602667 0 78.053333 0 111.509333-5.674667 72.48-5.674667 144.96-34.048 206.293334-90.8 128.234667-124.848 128.234667-334.816 5.573333-459.664z" fill="#00A3FF" p-id="5530"></path>
  <path d="M517.921013 434.405333c-61.674667-45.792-123.349333-68.693333-196.234666-68.693333-89.706667 0-173.797333 40.069333-229.866667 103.04-123.344 131.658667-123.344 337.728 5.605333 469.386667 56.069333 51.52 112.133333 80.138667 179.413334 85.861333l128.949333-125.930667H332.902347c-72.885333-5.728-117.738667-28.624-145.770667-57.242666-78.490667-80.138667-78.490667-206.074667-5.605333-286.213334 39.242667-40.069333 84.096-57.242667 140.16-57.242666 33.642667 0 84.101333 5.722667 134.56 57.242666 22.426667 22.896 84.096 68.693333 106.522666 91.589334h5.605334l84.101333-85.866667v-5.722667c-39.248-40.069333-100.922667-91.589333-134.56-120.208" fill="#00C8DC" p-id="5531"></path>
  <path d="M1111.62768 286.944C1049.17968 118.154667 884.55568 0 697.233013 0c-221.386667 0-397.354667 163.162667-431.413333 365.712 17.029333 0 34.058667-5.621333 56.762667-5.621333 22.709333 0 51.093333 5.621333 73.797333 5.621333 28.378667-140.656 153.264-241.930667 300.853333-241.930667 124.885333 0 232.736 73.141333 283.824 180.042667 0 0 5.68 5.626667 5.68 0 39.733333-5.626667 85.146667-16.88 124.88-16.88 0 5.626667 0 5.626667 0 0" fill="#006EFF" p-id="5532"></path>
</svg>`,

  alidns: `<svg t="1764942594711" class="icon" viewBox="0 0 1653 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6683">
  <path d="M295.633488 783.632817a74.898216 74.898216 0 0 1-59.720604-72.58858v-399.237188a77.537801 77.537801 0 0 1 59.720604-72.58858l370.696679-80.34236 38.933874-158.870005H274.846759A272.86707 272.86707 0 0 0 0.164974 272.873174v471.825768a276.661473 276.661473 0 0 0 274.681785 274.846759h430.417282l-38.933874-158.210109zM1374.233793 0.006104H940.517029l39.593771 158.870005 370.696679 80.34236a75.06319 75.06319 0 0 1 59.720604 72.58858v399.237188a77.867749 77.867749 0 0 1-59.720604 72.58858l-370.696679 80.34236-39.593771 158.870005H1374.233793a275.011733 275.011733 0 0 0 275.671629-275.506655V272.873174A276.166551 276.166551 0 0 0 1374.233793 0.006104z" fill="#F76E05" p-id="6684"></path>
  <path d="M666.330167 490.638913h316.255244v38.933875H666.330167z" fill="#F76E05" p-id="6685"></path>
</svg>`,

  baidu: `<svg t="1764942621478" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8267">
  <path d="M911.985 511.99c0 287.093-112.902 400.025-399.995 400.025-287.063 0-399.995-112.932-399.995-400.025 0-287.063 112.932-399.995 400.025-399.995 287.063 0 399.965 112.932 399.965 400.025z" fill="#F2F2F2" p-id="8268"></path>
  <path d="M518.259 436.322c-57.207 0-80.882 18.807-100.233 54.304-19.352 35.528-28.695 48.287-45.899 70.088-34.409 43.63-61.259 40.819-61.259 111.027 0.908 55.574 53.398 82.999 106.039 82.817 26.305-0.09 52.671-7.075 72.658-20.893 22.828-11.4 34.378-10.885 57.206-0.212 20.5 13.848 47.834 20.924 75.168 21.105 54.667 0.363 109.334-26.91 109.334-82.847 0-65.613-33.562-63.194-69.241-108.125-17.84-22.465-27.303-35.92-46.261-72.022-18.989-36.072-41.817-55.242-97.512-55.242z m-29.088-90.255c0 42.315-23.608 76.618-52.732 76.618-29.11-0.024-52.701-34.32-52.701-76.618 0-42.298 23.59-76.594 52.701-76.619 29.124 0 52.732 34.304 52.732 76.619zM367.682 473.3c-0.012 37.878-23.618 68.576-52.732 68.576-29.102-0.022-52.689-30.713-52.701-68.576 0-37.875 23.59-68.584 52.701-68.606 29.123 0 52.732 30.716 52.732 68.606z m277-127.234c0 42.315-23.609 76.618-52.732 76.618-29.11-0.024-52.701-34.32-52.701-76.618 0-42.298 23.59-76.594 52.701-76.619 29.123 0 52.732 34.304 52.732 76.619zM761.732 473.3c-0.014 37.878-23.619 68.576-52.733 68.576-29.102-0.022-52.689-30.713-52.701-68.576 0-37.875 23.59-68.584 52.701-68.606 29.123 0 52.732 30.716 52.732 68.606z" fill="#0066FF" p-id="8269"></path>
  <path d="M465.746 531.25l-0.363 14.786-0.967 45.143h-27.938a55.302 55.302 0 0 0-39.459 16.448c-16.216 15.97-20.992 40.245-12.034 61.168a56.179 56.179 0 0 0 51.493 34.227h55.664l1.33-82.212h0.243v-14.513l1.3-59.596 0.302-14.816z m-29.268 89.56h27.363l-0.846 52.58h-26.517c-14.585 0.137-26.442-11.72-26.306-26.305-0.05-14.549 11.757-26.356 26.306-26.305z m85.097-14.876c0.078 13.778 0.239 27.556 0.484 41.333l0.181 5.956c0.06 1.603-0.363 1.028 0.484 5.14a55.665 55.665 0 0 0 15.239 28.271c10.099 10.1 24.189 16.388 39.519 16.388h49.347V591.148h-29.631v82.213h-19.716a26.003 26.003 0 0 1-24.19-16.056 25.973 25.973 0 0 1-1.572-4.928c0.726 3.447 0.182 0.907 0.121-0.424-0.189-7.155-0.33-14.31-0.423-21.467-0.151-11.58-0.212-23.645-0.212-24.582v-14.816h-29.631z" fill="#F9F9F9" p-id="8270"></path>
</svg>`,

  '114dns': `<svg t="1764942728834" class="icon" viewBox="0 0 1820 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14521">
  <path d="M1145.268148 586.714074c-31.383704 0-65.232593-8.438519-66.180741-41.434074l-30.625185 0.094815c0 50.441481 48.071111 65.137778 94.435556 65.137778 41.339259 0 88.272593-13.653333 88.272592-60.207408 0-37.831111-45.700741-44.278519-61.819259-47.122963l-50.346667-7.774815c-25.315556-3.887407-33.564444-12.894815-33.564444-24.177777 0-21.617778 25.6-30.056296 47.691852-30.056297 49.208889 0 58.785185 19.721481 61.060741 33.943704h30.53037c-3.128889-44.278519-45.985185-57.647407-87.514074-57.647407-52.622222 0-82.299259 22.091852-82.299259 55.845926 0 35.745185 36.598519 44.752593 61.06074 48.071111l46.648889 6.921481c23.798519 3.887407 38.21037 10.524444 38.210371 27.211852-0.094815 19.816296-23.324444 31.194074-55.561482 31.194074z" fill="#FFA28D" p-id="14522"></path>
  <path d="M640.663704 278.660741c30.814815-28.065185 66.085926-50.725926 104.96-67.602963-28.444444 34.228148-51.863704 76.98963-68.930371 125.819259h61.81926c9.765926-24.936296 21.522963-47.786667 35.081481-68.551111 19.721481-29.771852 43.045926-53.76 67.318519-69.30963 12.98963-8.248889 26.168889-14.222222 39.632592-17.73037v155.591111h58.500741V181.285926c13.463704 3.508148 26.642963 9.481481 39.632593 17.73037 24.367407 15.454815 47.597037 39.537778 67.223703 69.30963 13.653333 20.66963 25.41037 43.614815 35.271111 68.456296h61.62963c-16.971852-48.82963-40.485926-91.591111-68.93037-125.819259 39.063704 16.971852 74.145185 39.442963 105.054814 67.602963 19.721481 17.73037 36.882963 37.357037 51.768889 58.216296h67.413334C1224.438519 210.394074 1078.328889 124.207407 909.842963 124.207407S595.152593 210.394074 521.481481 336.782222h67.318519c14.885926-20.859259 32.142222-40.391111 51.863704-58.121481z" fill="#5FFFBA" p-id="14523"></path>
  <path d="M990.340741 568.225185h-0.663704L857.694815 422.020741h-35.460741v183.751111h30.53037V459.472593h0.568889l132.077037 146.299259h35.460741V422.020741h-30.53037zM696.32 422.020741H592.118519v183.751111h106.002962c62.957037 0 87.988148-43.235556 87.988149-94.435556 0.094815-53.285926-28.16-89.315556-89.78963-89.315555z m0.379259 160.047407l-73.955555-0.094815V445.62963h68.266666c52.906667 0 64.758519 33.943704 64.758519 66.085926-0.094815 32.711111-9.007407 70.352593-59.06963 70.352592z" fill="#FFA28D" p-id="14524"></path>
  <path d="M1179.022222 746.477037c-30.90963 28.065185-65.991111 50.631111-105.054815 67.602963 28.539259-34.133333 51.958519-76.98963 68.930371-125.819259h-61.724445c-9.765926 24.936296-21.617778 47.786667-35.271111 68.551111-19.626667 29.771852-43.045926 53.76-67.318518 69.404444-12.98963 8.154074-26.263704 14.222222-39.537778 17.635556V688.165926h-58.405926v155.591111c-13.368889-3.508148-26.642963-9.481481-39.632593-17.635556-24.367407-15.54963-47.502222-39.537778-67.318518-69.404444-13.558519-20.764444-25.315556-43.614815-35.271111-68.551111h-61.724445c16.971852 48.82963 40.485926 91.591111 68.930371 125.819259-38.874074-16.971852-74.145185-39.442963-104.96-67.602963-19.721481-17.73037-36.977778-37.357037-51.863704-58.216296h-67.318519c73.765926 126.482963 219.875556 212.66963 388.361482 212.66963 168.485926 0 314.69037-86.186667 388.361481-212.66963h-67.413333c-14.885926 20.954074-32.047407 40.580741-51.768889 58.311111z" fill="#5FFFBA" p-id="14525"></path>
</svg>`,

  '360dns': `<svg t="1764942670152" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10427">
  <path d="M680.416757 459.07972 573.090357 459.07972 573.090357 351.753319c0-30.312376-24.800849-55.113225-55.113225-55.113225l0 0c-30.312376 0-55.113225 24.800849-55.113225 55.113225l0 107.326401L355.537506 459.07972c-30.312376 0-55.113225 24.800849-55.113225 55.113225l0 0c0 30.312376 24.800849 55.113225 55.113225 55.113225l107.326401 0 0 107.326401c0 30.312376 24.800849 55.113225 55.113225 55.113225l0 0c30.312376 0 55.113225-24.800849 55.113225-55.113225L573.090357 569.30617l107.326401 0c30.312376 0 55.113225-24.800849 55.113225-55.113225l0 0C735.529983 483.880569 710.729134 459.07972 680.416757 459.07972z" fill="#1afa29" p-id="10428"></path>
  <path d="M511.771803 76.893274c-239.630682 0-435.106726 195.47195-435.106726 435.103656 0 94.841042 30.642904 182.753277 82.499969 254.379595 13.024641 20.517289 32.243355 42.841737 59.010999 66.24168 77.483722 71.033823 180.62787 114.488521 293.595758 114.488521 103.163591 0 198.122313-36.252669 272.847202-96.638991 0.907673-0.728594 1.814322-1.456165 2.716878-2.192945 0.475837-0.38988 0.954745-0.775666 1.425466-1.165546 22.744004-18.662035 43.799552-39.940664 62.682621-63.755046 59.665915-74.495668 95.433536-168.876222 95.433536-271.356244C946.877505 272.370341 751.405555 76.893274 511.771803 76.893274zM829.009004 763.432473c-66.787102 37.028335-141.208069 57.060577-188.409091 66.422805-90.930989 18.152429-200.3654-12.568247-240.679571-31.591509-68.068282-32.116465-89.183182-64.577784-124.267235-97.739045l-20.070104-19.195178c-47.562249-44.911886-98.123808-39.531342-113.870444-4.776793-22.51069-50.329269-35.056424-106.024755-35.056424-164.555823 0.001023-92.624561 31.394011-178.147376 84.049255-246.521626 68.905346-40.120766 147.548474-61.442374 196.569958-71.193459 91.102904-18.147312 200.535269 12.568247 240.679571 31.592532 68.240197 32.115442 89.182158 64.576761 124.43915 97.91403l20.070104 19.023262c47.082318 44.544519 95.120404 38.818097 109.209284 4.267187 22.610974 50.424436 35.21299 106.243743 35.21299 164.91705C916.885424 606.854345 883.972826 694.26516 829.009004 763.432473z" fill="#1afa29" p-id="10429"></path>
</svg>`,

  cloudflare: `<svg t="1764942872397" class="icon" viewBox="0 0 2264 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16397">
  <path d="M1557.441017 969.023232c13.929924-47.832707 8.561376-91.559403-14.64632-124.108994-21.155796-29.849838-57.03088-47.0544-100.12078-49.1063l-816.965746-10.613276h-0.22111a14.772353 14.772353 0 0 1-12.3114-6.650986l-0.070755-0.070755a18.148702 18.148702 0 0 1-1.989989-14.646321 22.593011 22.593011 0 0 1 19.174652-14.717076l824.182773-10.613275c97.644348-4.599086 203.781528-83.634824 240.927993-180.503077l47.07209-122.771278a25.624428 25.624428 0 0 0 1.415103-15.849159A535.99917 535.99917 0 0 0 1220.281568 0.000199C984.023416 0.000199 783.638137 152.623527 712.031692 364.329634a241.332624 241.332624 0 0 0-384.91919 168.543241 252.374853 252.374853 0 0 0 6.01419 84.342376A342.808807 342.808807 0 0 0-0.001924 960.320345a420.460397 420.460397 0 0 0 3.316649 49.749731 16.490377 16.490377 0 0 0 15.919914 13.929924h1507.781654a20.587544 20.587544 0 0 0 19.174652-14.646321z m260.025256-524.877342a159.738645 159.738645 0 0 0-22.500144 1.061327 13.330717 13.330717 0 0 0-11.957624 9.198173l-31.839828 110.807021c-13.929924 47.832707-8.623287 91.559403 14.575566 124.179748 21.297307 29.849838 57.101635 46.983645 100.262289 49.035546l173.920635 10.684031a14.469433 14.469433 0 0 1 12.523665 6.650986 19.139274 19.139274 0 0 1 2.0519 14.717075 22.593011 22.593011 0 0 1-19.236562 14.646321l-181.210629 10.613276c-98.210389 4.599086-203.642229 83.634824-240.857237 180.573831l-13.231218 33.829817a9.61607 9.61607 0 0 0 9.268928 13.372727h622.453146a16.286956 16.286956 0 0 0 15.919913-11.886869 453.737439 453.737439 0 0 0 16.554499-120.792344c0-245.527079-200.456035-445.978692-446.690665-445.978692z" fill="#F38020" p-id="16398"></path>
</svg>`,

  google: `<svg t="1764942889178" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17400">
  <path d="M214.101333 512c0-32.512 5.546667-63.701333 15.36-92.928L57.173333 290.218667A491.861333 491.861333 0 0 0 4.693333 512c0 79.701333 18.858667 154.88 52.394667 221.610667l172.202667-129.066667A290.56 290.56 0 0 1 214.101333 512" fill="#FBBC05" p-id="17401"></path>
  <path d="M516.693333 216.192c72.106667 0 137.258667 25.002667 188.458667 65.962667L854.101333 136.533333C763.349333 59.178667 646.997333 11.392 516.693333 11.392c-202.325333 0-376.234667 113.28-459.52 278.826667l172.373334 128.853333c39.68-118.016 152.832-202.88 287.146666-202.88" fill="#EA4335" p-id="17402"></path>
  <path d="M516.693333 807.808c-134.357333 0-247.509333-84.864-287.232-202.88l-172.288 128.853333c83.242667 165.546667 257.152 278.826667 459.52 278.826667 124.842667 0 244.053333-43.392 333.568-124.757333l-163.584-123.818667c-46.122667 28.458667-104.234667 43.776-170.026666 43.776" fill="#34A853" p-id="17403"></path>
  <path d="M1005.397333 512c0-29.568-4.693333-61.44-11.648-91.008H516.650667V614.4h274.602666c-13.696 65.962667-51.072 116.650667-104.533333 149.632l163.541333 123.818667c93.994667-85.418667 155.136-212.650667 155.136-375.850667" fill="#4285F4" p-id="17404"></path>
</svg>`,
};

export const DnsProviderLogo: React.FC<DnsProviderLogoProps> = ({ providerId, size = 24 }) => {
  const colors = useThemeColors();

  // 优先使用PNG图片
  const pngSource = PNG_LOGOS[providerId];
  const svgSource = SVG_LOGOS[providerId];

  if (!pngSource && !svgSource) {
    // 如果没有找到Logo，显示占位符
    return (
      <View
        style={[
          styles.placeholder,
          {
            width: scaleWidth(size),
            height: scaleWidth(size),
            borderRadius: scaleWidth(size / 2),
            backgroundColor: colors.text.tertiary, // dynamic
          },
        ]}
      />
    );
  }

  // 如果有PNG图片，使用PNG
  if (pngSource) {
    return (
      <View
        style={[
          styles.container,
          {
            width: scaleWidth(size),
            height: scaleWidth(size),
          },
        ]}
      >
        <Image
          source={pngSource}
          style={{
            width: scaleWidth(size),
            height: scaleWidth(size),
          }}
          resizeMode="contain"
        />
      </View>
    );
  }

  // 否则使用SVG
  return (
    <View
      style={[
        styles.container,
        {
          width: scaleWidth(size),
          height: scaleWidth(size),
        },
      ]}
    >
      <SvgXml
        xml={svgSource}
        width={scaleWidth(size)}
        height={scaleWidth(size)}
      />
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    alignItems: 'center',
    justifyContent: 'center',
  },
  placeholder: {
    // backgroundColor handled dynamically
  },
});
